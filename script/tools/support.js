export async function AddMarker(t,e=[113.54884,22.16185],n="blue"){if(isNaN(e[0])||isNaN(e[1]))return null;let o=(new mapboxgl.Popup).setText(`${e[1]}, ${e[0]} `).addTo(t);new mapboxgl.Marker({color:n}).setLngLat([e[0],e[1]]).addTo(t).setPopup(o)}function generateRandomNumber(t,e){return Math.floor(Math.random()*(e-t+1))+t}export async function AddMarkerData(t,e){for(let n=0;n<e.length;n++){let o=e[n];for(let e=0;e<o.busInfoList.length;e++){let n=o.busInfoList[e],a=(new mapboxgl.Popup).setText(`${n.latitude}, ${n.longitude}, ${n.busPlate} `).addTo(t);new mapboxgl.Marker({color:"blue"}).setLngLat([n.longitude,n.latitude]).addTo(t).setPopup(a)}}}export function createUpdateBusButton(t,e){const n=document.createElement("button");return n.className="mapboxgl-ctrl-icon update-bus-button",n.style.cssText="\n        position: absolute;\n        top: 10px;\n        right: 40px;\n        padding: 10px 20px;\n        background-color: #fff;\n        border: 1px solid #ccc;\n        border-radius: 4px;\n        cursor: pointer;\n        z-index: 1;\n    ",n.innerHTML="更新巴士位置",n.addEventListener("click",(async()=>{try{const n=await fetch(e).then((t=>t.json()));t.forEach((t=>t.updateBusPositions(n)))}catch(t){}})),n}